define("mod_otopo/otopo/components/item",["mod_otopo/otopo/components/modal","mod_otopo/otopo/components/degrees","mod_otopo/otopo/ajax","mod_otopo/utils"],(function(t,o,e,s){return{components:{ModalHelp:t,Degrees:o},props:{item:{type:Object},index:{type:Number}},methods:{setUserOtopo(){null===this.$root.$data.otopo||e.setUserOtopo(this.$root.$data.otopo,this.$root.$data.session,this.item.id,this.degree,this.justification)},degreeChanged(t){this.degree=t,this.setUserOtopo()}},data:function(){return{processChange:s.debounce((()=>this.setUserOtopo())),strings:this.$root.$data.strings,showModal:!1,degree:this.$root.$data.session&&this.item.id in this.$root.$data.otopos?this.$root.$data.otopos[this.item.id].degree:null,justification:this.$root.$data.session&&this.item.id in this.$root.$data.otopos?this.$root.$data.otopos[this.item.id].justification:"",comment:this.$root.$data.session&&this.item.id in this.$root.$data.otopos?this.$root.$data.otopos[this.item.id].comment:""}},computed:{disabledDegree:function(){return!!this.$root.$data.session&&!this.$root.$data.active},disabledJustification:function(){return!(!this.$root.$data.session||this.$root.$data.active&&this.degree)},justificationHtml:function(){var t=new RegExp(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi);return this.justification.replace(t,"$1".link("$1"))},commentHtml:function(){if(!this.comment)return this.strings.noteachercomment;var t=new RegExp(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi);return this.comment.replace(t,"$1".link("$1"))}},template:'\n            <div class="row mb-3">\n                <div class="col-md-12 text-center">\n                    <h4 class="font-weight-bold" :style="\'color:\' + item.color + \';\'">{{ item.name }}</h4>\n                </div>\n                <div class="col-md-4">\n                    <Degrees\n                        :degree="degree"\n                        :itemName="item.name"\n                        :color="item.color"\n                        :degrees="item.degrees" @changed="degreeChanged"\n                        :disabled="disabledDegree"\n                    />\n                </div>\n                <div :class="$root.$data.showComments ? \'col-md-4\' : \'col-md-8\'">\n                    <div class="comment border rounded pt-1 pl-3 pr-3 mb-2 shadow-sm no-print">\n                        <div class="input-group mb-3">\n                            <textarea\n                                v-model="justification"\n                                :disabled="disabledJustification"\n                                class="form-control border-0"\n                                :placeholder="strings.yourjustification"\n                                @input="processChange()"\n                                rows="5"\n                            ></textarea>\n                        </div>\n                    </div>\n                    <div class="comment border rounded pt-1 pl-3 pr-3 mb-2 shadow-sm only-print">\n                        <div class="input-group mb-3">\n                            <p v-html="justificationHtml"></p>\n                        </div>\n                    </div>\n                    <div class="d-flex justify-content-end">\n                        <button id="show-help-modal" class="bg-light rounded pl-2 pr-3 pt-1 pb-1 border shadow-sm"\n                            @click="showModal = true"\n                        >\n                            <i class="icon fa fa-question" aria-hidden="true"></i>\n                            {{ strings.help }}\n                        </button>\n                        <ModalHelp v-if="showModal" @close="showModal = false" />\n                    </div>\n                </div>\n                <div :class="$root.$data.showComments ? \'col-md-4\' : \'d-none\'">\n                    <div class="comment border rounded pt-1 pl-3 pr-3 mb-2 shadow-sm">\n                        <p v-html="commentHtml"></p>\n                    </div>\n                </div>\n            </div>\n        '}}));

//# sourceMappingURL=item.min.js.map