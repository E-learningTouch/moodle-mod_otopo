{"version":3,"file":"items.min.js","sources":["../../../src/items/components/items.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Items vue items.\n *\n * @copyright   2024 Nantes Universit√© <support-tice@univ-nantes.fr> (Commissioner)\n * @copyright   2024 E-learning Touch' <contact@elearningtouch.com> (Maintainer)\n * @copyright   2022 Kosmos <moodle@kosmos.fr> (Former maintainer)\n * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([\n    'mod_otopo/items/components/item',\n    'mod_otopo/items/store'\n], function(\n    Item,\n    store\n) {\n    return {\n        components: {\n            'Item': Item,\n        },\n        props: {\n            otopo: {\n                type: Number\n            },\n        },\n        data: function() {\n            return {\n                items: this.$root.$data.state.items,\n                strings: this.$root.$data.strings,\n                hasOtopo: this.$root.$data.hasOtopo,\n            };\n        },\n        methods: {\n            addItem() {\n                if (!this.hasOtopo) {\n                    store.addItem({'id': null, 'name': '', color: '#000000', 'degrees': [],\n                                   'ord': this.items.length > 0 ? this.items[this.items.length - 1].ord + 1 : 0});\n                }\n            },\n        },\n        template: `\n            <div class=\"items\">\n                <Item\n                    v-for=\"(item, index) in items\"\n                    :key=\"item.id ? item.id : 'new' + index\"\n                    :item=\"item\"\n                    :index=\"index\"\n                    :otopo=\"otopo\"\n                />\n                <button\n                    v-on:click=\"addItem\"\n                    class=\"btn btn-primary mt-2\"\n                    :disabled=\"hasOtopo\"\n                >\n                    {{ strings.additem }}\n                </button>\n            </div>\n        `\n    };\n});\n"],"names":["define","Item","store","components","props","otopo","type","Number","data","items","this","$root","$data","state","strings","hasOtopo","methods","addItem","id","name","color","degrees","ord","length","template"],"mappings":"AAuBAA,OAAO,mCAAA,CACH,kCACA,0BACD,SACCC,EACAC,GAEA,MAAO,CACHC,WAAY,CACRF,KAAQA,GAEZG,MAAO,CACHC,MAAO,CACHC,KAAMC,SAGdC,KAAM,WACF,MAAO,CACHC,MAAOC,KAAKC,MAAMC,MAAMC,MAAMJ,MAC9BK,QAASJ,KAAKC,MAAMC,MAAME,QAC1BC,SAAUL,KAAKC,MAAMC,MAAMG,SAEnC,EACAC,QAAS,CACLC,OAAAA,IACSP,KAAKK,UACNb,EAAMe,QAAQ,CAACC,GAAM,KAAMC,KAAQ,GAAIC,MAAO,UAAWC,QAAW,GACrDC,IAAOZ,KAAKD,MAAMc,OAAS,EAAIb,KAAKD,MAAMC,KAAKD,MAAMc,OAAS,GAAGD,IAAM,EAAI,GAElG,GAEJE,SAAU,mkBAmBlB"}