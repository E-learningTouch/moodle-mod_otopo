{"version":3,"file":"ajax.min.js","sources":["../../src/items/ajax.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Items ajax.\n *\n * @copyright   2024 Nantes Universit√© <support-tice@univ-nantes.fr> (Commissioner)\n * @copyright   2024 E-learning Touch' <contact@elearningtouch.com> (Maintainer)\n * @copyright   2022 Kosmos <moodle@kosmos.fr> (Former maintainer)\n * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['core/ajax'], function(Ajax) {\n    return {\n        getItems: async function(otopo, cmid) {\n            var promises = Ajax.call([{\n                methodname: 'mod_otopo_get_items',\n                args: {otopo: otopo, cmid: cmid},\n            }]);\n            var items = await promises[0];\n            return items;\n        },\n\n        createItem: async function(otopo, item, cmid) {\n            var promises = Ajax.call([{\n                methodname: 'mod_otopo_create_item',\n                args: {otopo: otopo, item: item, cmid: cmid},\n            }]);\n            var itemId = await promises[0];\n            return itemId;\n        },\n\n        editItem: async function(item, cmid) {\n            var promises = Ajax.call([{\n                methodname: 'mod_otopo_edit_item',\n                args: {item: item, cmid: cmid},\n            }]);\n            await promises[0];\n        },\n\n        deleteItem: async function(itemId, cmid) {\n            var promises = Ajax.call([{\n                methodname: 'mod_otopo_delete_item',\n                args: {itemid: itemId, cmid: cmid},\n            }]);\n            await promises[0];\n        },\n\n        createDegree: async function(itemId, degree, cmid) {\n            var promises = Ajax.call([{\n                methodname: 'mod_otopo_create_degree',\n                args: {itemid: itemId, degree: degree, cmid: cmid},\n            }]);\n            var degreeId = await promises[0];\n            return degreeId;\n        },\n\n        editDegree: async function(degree, cmid) {\n            var promises = Ajax.call([{\n                methodname: 'mod_otopo_edit_degree',\n                args: {degree: degree, cmid: cmid},\n            }]);\n            await promises[0];\n        },\n\n        deleteDegree: async function(degreeId, cmid) {\n            var promises = Ajax.call([{\n                methodname: 'mod_otopo_delete_degree',\n                args: {degreeid: degreeId, cmid: cmid},\n            }]);\n            await promises[0];\n        }\n    };\n});\n"],"names":["define","Ajax","getItems","async","otopo","cmid","promises","call","methodname","args","createItem","item","editItem","deleteItem","itemId","itemid","createDegree","degree","editDegree","deleteDegree","degreeId","degreeid"],"mappings":"AAuBAA,8BAAO,CAAC,cAAc,SAASC,GAC3B,MAAO,CACHC,SAAUC,eAAeC,EAAOC,GAC5B,IAAIC,EAAWL,EAAKM,KAAK,CAAC,CACtBC,WAAY,sBACZC,KAAM,CAACL,MAAOA,EAAOC,KAAMA,MAG/B,aADkBC,EAAS,EAE/B,EAEAI,WAAYP,eAAeC,EAAOO,EAAMN,GACpC,IAAIC,EAAWL,EAAKM,KAAK,CAAC,CACtBC,WAAY,wBACZC,KAAM,CAACL,MAAOA,EAAOO,KAAMA,EAAMN,KAAMA,MAG3C,aADmBC,EAAS,EAEhC,EAEAM,SAAUT,eAAeQ,EAAMN,GAC3B,IAAIC,EAAWL,EAAKM,KAAK,CAAC,CACtBC,WAAY,sBACZC,KAAM,CAACE,KAAMA,EAAMN,KAAMA,YAEvBC,EAAS,EACnB,EAEAO,WAAYV,eAAeW,EAAQT,GAC/B,IAAIC,EAAWL,EAAKM,KAAK,CAAC,CACtBC,WAAY,wBACZC,KAAM,CAACM,OAAQD,EAAQT,KAAMA,YAE3BC,EAAS,EACnB,EAEAU,aAAcb,eAAeW,EAAQG,EAAQZ,GACzC,IAAIC,EAAWL,EAAKM,KAAK,CAAC,CACtBC,WAAY,0BACZC,KAAM,CAACM,OAAQD,EAAQG,OAAQA,EAAQZ,KAAMA,MAGjD,aADqBC,EAAS,EAElC,EAEAY,WAAYf,eAAec,EAAQZ,GAC/B,IAAIC,EAAWL,EAAKM,KAAK,CAAC,CACtBC,WAAY,wBACZC,KAAM,CAACQ,OAAQA,EAAQZ,KAAMA,YAE3BC,EAAS,EACnB,EAEAa,aAAchB,eAAeiB,EAAUf,GACnC,IAAIC,EAAWL,EAAKM,KAAK,CAAC,CACtBC,WAAY,0BACZC,KAAM,CAACY,SAAUD,EAAUf,KAAMA,YAE/BC,EAAS,EACnB,EAER"}